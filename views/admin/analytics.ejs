<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h2 class="h3 mb-0 d-flex align-items-center">
            <div class="bg-warning text-white rounded-3 p-2 me-3"
                style="width: 40px; height: 40px; display: flex; align-items: center; justify-content: center;">
                <i class="fas fa-chart-line"></i>
            </div>
            Phân tích thống kê
        </h2>
        <p class="text-muted mb-0 mt-1">Báo cáo chi tiết và phân tích kinh doanh</p>
    </div>
    <div class="d-flex gap-2">
        <select class="form-select" style="width: auto;">
            <option>30 ngày gần đây</option>
            <option>90 ngày gần đây</option>
            <option>12 tháng gần đây</option>
        </select>
        <button class="btn btn-outline-secondary">
            <i class="fas fa-download me-1"></i>
            Xuất báo cáo
        </button>
    </div>
</div>

<!-- Stats Overview -->
<div class="row mb-4">
    <div class="col-lg-3 col-md-6 mb-4">
        <div class="card card-custom bg-primary text-white">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h6 class="card-title text-white-50">Tổng doanh thu</h6>
                        <h3 class="mb-0">25,750,000đ</h3>
                        <small class="text-white-75">+15% so với tháng trước</small>
                    </div>
                    <div class="text-white-50">
                        <i class="fas fa-dollar-sign fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 mb-4">
        <div class="card card-custom bg-success text-white">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h6 class="card-title text-white-50">Đơn hàng thành công</h6>
                        <h3 class="mb-0">142</h3>
                        <small class="text-white-75">+8% so với tháng trước</small>
                    </div>
                    <div class="text-white-50">
                        <i class="fas fa-check-circle fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 mb-4">
        <div class="card card-custom bg-info text-white">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h6 class="card-title text-white-50">Khách hàng mới</h6>
                        <h3 class="mb-0">28</h3>
                        <small class="text-white-75">+12% so với tháng trước</small>
                    </div>
                    <div class="text-white-50">
                        <i class="fas fa-user-plus fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-3 col-md-6 mb-4">
        <div class="card card-custom bg-warning text-white">
            <div class="card-body">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h6 class="card-title text-white-50">Tỉ lệ chuyển đổi</h6>
                        <h3 class="mb-0">2.8%</h3>
                        <small class="text-white-75">+0.5% so với tháng trước</small>
                    </div>
                    <div class="text-white-50">
                        <i class="fas fa-percentage fa-2x"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Charts Row -->
<div class="row mb-4">
    <div class="col-lg-8 mb-4">
        <div class="card card-custom">
            <div class="card-header bg-transparent">
                <h5 class="card-title mb-0">
                    <i class="fas fa-chart-area me-2"></i>
                    Biểu đồ doanh thu theo ngày
                </h5>
            </div>
            <div class="card-body">
                <canvas id="revenueChart" height="100"></canvas>
            </div>
        </div>
    </div>
    <div class="col-lg-4 mb-4">
        <div class="card card-custom">
            <div class="card-header bg-transparent">
                <h5 class="card-title mb-0">
                    <i class="fas fa-chart-pie me-2"></i>
                    Top sản phẩm bán chạy
                </h5>
            </div>
            <div class="card-body">
                <canvas id="topProductsChart"></canvas>
            </div>
        </div>
    </div>
</div>

<!-- Detailed Analytics -->
<div class="row">
    <div class="col-lg-6 mb-4">
        <div class="card card-custom">
            <div class="card-header bg-transparent">
                <h5 class="card-title mb-0">
                    <i class="fas fa-users me-2"></i>
                    Phân tích khách hàng
                </h5>
            </div>
            <div class="card-body">
                <div class="row text-center">
                    <div class="col-4">
                        <div class="border-end">
                            <h4 class="text-primary">127</h4>
                            <small class="text-muted">Tổng KH</small>
                        </div>
                    </div>
                    <div class="col-4">
                        <div class="border-end">
                            <h4 class="text-success">89</h4>
                            <small class="text-muted">KH thành viên</small>
                        </div>
                    </div>
                    <div class="col-4">
                        <h4 class="text-info">38</h4>
                        <small class="text-muted">KH mới</small>
                    </div>
                </div>
                <hr>
                <div class="d-flex justify-content-between mb-2">
                    <span>Khách hàng thành viên</span>
                    <span class="fw-bold">70%</span>
                </div>
                <div class="progress mb-3" style="height: 8px;">
                    <div class="progress-bar bg-success" style="width: 70%"></div>
                </div>
                <div class="d-flex justify-content-between mb-2">
                    <span>Khách hàng quay lại</span>
                    <span class="fw-bold">45%</span>
                </div>
                <div class="progress" style="height: 8px;">
                    <div class="progress-bar bg-info" style="width: 45%"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-6 mb-4">
        <div class="card card-custom">
            <div class="card-header bg-transparent">
                <h5 class="card-title mb-0">
                    <i class="fas fa-shopping-bag me-2"></i>
                    Phân tích đơn hàng
                </h5>
            </div>
            <div class="card-body">
                <div class="row text-center mb-3">
                    <div class="col-6">
                        <div class="border-end">
                            <h4 class="text-primary">156</h4>
                            <small class="text-muted">Tổng đơn hàng</small>
                        </div>
                    </div>
                    <div class="col-6">
                        <h4 class="text-success">142</h4>
                        <small class="text-muted">ĐH thành công</small>
                    </div>
                </div>
                <hr>
                <div class="mb-3">
                    <div class="d-flex justify-content-between mb-2">
                        <span>Chờ xử lý</span>
                        <span class="badge bg-warning">8</span>
                    </div>
                    <div class="d-flex justify-content-between mb-2">
                        <span>Đang giao hàng</span>
                        <span class="badge bg-primary">6</span>
                    </div>
                    <div class="d-flex justify-content-between mb-2">
                        <span>Đã giao thành công</span>
                        <span class="badge bg-success">142</span>
                    </div>
                    <div class="d-flex justify-content-between">
                        <span>Đã hủy</span>
                        <span class="badge bg-danger">0</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Sample chart data - replace with real data from backend
    document.addEventListener('DOMContentLoaded', function () {
        // Revenue Chart
        const revenueCtx = document.getElementById('revenueChart')?.getContext('2d');
        if (revenueCtx) {
            new Chart(revenueCtx, {
                type: 'line',
                data: {
                    labels: ['1/11', '2/11', '3/11', '4/11', '5/11', '6/11', '7/11'],
                    datasets: [{
                        label: 'Doanh thu (VNĐ)',
                        data: [2900000, 3300000, 5100000, 3900000, 2800000, 4200000, 3500000],
                        borderColor: '#007bff',
                        backgroundColor: 'rgba(0, 123, 255, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    }
                }
            });
        }

        // Top Products Chart
        const topProductsCtx = document.getElementById('topProductsChart')?.getContext('2d');
        if (topProductsCtx) {
            new Chart(topProductsCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Chăm sóc da', 'Trang điểm', 'Nước hoa', 'Chăm sóc tóc'],
                    datasets: [{
                        data: [15, 12, 8, 10],
                        backgroundColor: ['#007bff', '#28a745', '#ffc107', '#17a2b8']
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }
    });
</script>